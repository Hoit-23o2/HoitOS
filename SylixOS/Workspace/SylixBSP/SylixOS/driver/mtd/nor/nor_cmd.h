/*********************************************************************************************************
**
**                                    中国软件开源组织
**
**                                   嵌入式实时操作系统
**
**                                       SylixOS(TM)
**
**                               Copyright  All Rights Reserved
**
**--------------文件信息--------------------------------------------------------------------------------
**
** 文   件   名: nor_cmd.c
**
** 创   建   人: Pan yanqi (潘延麒)
**
** 文件创建日期: 2021 年 03 月 17 日
**
** 描        述: NorFlash驱动 命令 便于调试BUG，支持Fake和True
*********************************************************************************************************/

#ifndef SYLIXOS_DRIVER_MTD_NOR_NOR_CMD_H_
#define SYLIXOS_DRIVER_MTD_NOR_NOR_CMD_H_

#include <stdio.h>
#include "Am29LV160DB.h"

#define GET_PREFIX()          *(ppcArgV)
#define GET_ARG(i)            *(ppcArgV + i)
#define LOWER_STR(p)          while(*p != '\0'){              \
                                if(*p >= 'A' && *p <= 'Z')    \
                                      *p += 32;               \
                                  p++;                        \
                              }    

/*********************************************************************************************************
  为NorFlash注册命令
*********************************************************************************************************/
VOID register_nor_cmd();
/*********************************************************************************************************
  支持命令
*********************************************************************************************************/
typedef enum cmd_type
{
  SUMMARY,                                              /* 查看Sector的擦写情况 */
  WRITE,                                                /* 写 */
  ERASE,                                                /* 擦除 */
  READ,                                                 /* 读 */
  HELP,                                                 /* 帮助手册 */
  TEST,                                                 /* 测试行为 */
  RESET                                                 /* 重置nor flash，仅限FAKE情形 */
} CMD_TYPE;
/*********************************************************************************************************
   工具函数
*********************************************************************************************************/
INT case_ignore_strcmp(PCHAR str1, PCHAR str2);

#endif /* SYLIXOS_DRIVER_MTD_NOR_NOR_CMD_H_ */
